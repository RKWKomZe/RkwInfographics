####################################################################
# Resources
####################################################################
lib.txRkwInfographics {

    resources {

        //=================================================================
        fileDownload = FILES
        fileDownload {

            references {
                table = tx_rkwinfographics_domain_model_infographic
                uid.field = uid
                fieldName = download
            }

            renderObj = COA
            renderObj {
                10 = TEXT
                10.value = <svg class="icon icon--24"><use xlink:href="#ic-download" /></svg>
                10.stdWrap.typolink {
                    parameter.data = file:current:publicUrl
                    ATagBeforeWrap = 1
                    //  ATagParams = class="btn btn--primary btn--small"
                    fileTarget = _self
                    // eTracker
                    userFunc = RKW\RkwEtracker\UserFunctions\Typolink->getParsedLinkWithDataAttributes
                }

            }
        }

        //=================================================================
        socialMedia {

            shareUrl = COA
            shareUrl {
                10 = TEXT
                10 {
                    typolink {
                        parameter = {$plugin.tx_rkwinfographics.settings.showPid}
                        additionalParams.wrap = &tx_rkwinfographics_infographics[controller]=Infographics&tx_rkwinfographics_infographics[action]=show&tx_rkwinfographics_infographics[infographic]=|
                        additionalParams.data = field:uid
                        forceAbsoluteUrl = 1
                        returnLast = url
                    }
                }
            }
            shareUrl.stdWrap.rawUrlEncode = 1

        }

    }

}